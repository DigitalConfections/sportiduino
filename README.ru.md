![](/Images/logo.png?raw=true)

![](/Images/Sportiduino.JPG?raw=true)

[Read this in English](/README.md)

Данный репозиторий посвящен созданию дешевой системы электронной отметки для ориентирования. Она также может быть использована при проведении рогейнов, мультигонок, трейлов, везде, где требуется фикасация времени и порядка прохождения дистанции. Здесь находится аппаратная часть системы. Ссылки на программное обеспечение помещены [ниже](/README.ru.md#%D0%9E%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85)

[Скачать последний релиз](https://github.com/alexandervolikov/sportiduino/releases)

[Руководство](/Doc/ru.md)

Проект свободный. Каждый, кто не боится трудностей, может попоробовать сделать это самостоятельно, следуя инструкциям из wiki. Дешевизна компонентов системы может окупить затраченные труды (порядка 700 рублей (на 2019 год) за базовую станцию, 20 рублей за чип отметки).

## Версия

Номер версии состоит из трёх чисел. Первое число обозначает порядковый номер аппаратной части. Если вносятся какие-либо изменения в схему или в печатную плату, то этот номер увеличивается на 1.

Второе число обозначает порядковый номер прошивки. Если в прошивку добавляется какая-либо новая функция, то этот номер увеличивается на 1. Если в прошивке просто исправляется баг, то этот номер не меняется, вместо этого третье число в версии увеличивается на 1. При выходе новой версии прошивки с новыми функциями, третье число сбрасывается в 0.

Базовая станция и станция сопряжения имеют свой номер версии. Версия релиза обозначается по наибольшему из этих двух номеров

**Текущая версия релиза 2.6.1**

**Текущая версия базовой станции 2.6.1**

**Текущая версия станции сопряжения 1.6.1**

[Смотреть список изменений](/CHANGELOG.md)

Чтобы установить прошивку базовой станции v6 на плату старой версии (v1) в тексте программы найдите и перепешите строчку на #define HW_VERS 1

## Вопросы и предложения

Обнаруженные баги, предложения по улучшению системы а также вопросы касательные работы железной части системы просьба писать в [issue](https://github.com/alexandervolikov/sportiduino/issues)

## Вклад в разработку

Вы можете внести вклад в развитие проекта с помощью написания программ для работы с системой на ПК или Андройде. Протокол передачи данных и команды описан в [руководстве](/Doc/ru/MasterStation.md)

Пул реквесты приветствуются. Также с удовольствием добавим ссылку на Ваши разработки, работающие с Sportiduino.

Также поддерживается создание форков, развивающие какие-либо новые идеи.
Например, [форк](https://github.com/halny123/sportiduino) , в которой схема базовой станции дополнена радио-модулем:

Можно помочь с переводом документации. На данный момент он выполнен весьма грубо.

# Компоненты системы

## Чипы

В системе используются чипы Ntag213 / 215 / 216. В виде наклеек данные чипы стоят 6, 12 и 20 рублей, соответветственно, в виде брелка в два раза дороже. Памяти данных чипов хватает на 32, 120 и 216 отметок, соответственно.

Кроме того, возможно использование чипов Mifare Classic 1K. Эти чипы также дешевые и идут в комплекте с модулем RC522. Памяти данных чипов хватает на 42 отметки. Работают чуть медленнее Ntag.

Тип используемых чипов система определяет автоматически.

[Подробнее тут](/Doc/ru/Card.md)

## Станция отметки

Основные компоненты станции - микроконтроллер Atmega328 и модуль MFRC522, работающий на частоте 13,56MHz. Часы DS3231SN. Питание от 3-х пальчиковых батареек через стабилизатор MCP1700T-33. Одного комплекта должно хватать на год активного использования. Протестирована работа станций при различных погодных условиях от -20С до +50.

Суммарно исходные компоненты станции и расходники стоят порядка 700 рублей (на 2019 год).

[Подробнее тут](/Doc/ru/BaseStation.md)

## Станция сопряжения

Станция сопряжения попроще станции отметки, состоит из Arduino Nano, RFID-модуля, светодиода и пищалки.
К компьютеру подключение через USB. С помощью станции сопряжения можно выполнять ряд судейских задач.

[Подробнее тут](/Doc/ru/MasterStation.md)

Также есть беспроводная станция сопряжени с модулем bluetooth. Ведётся разарботка программного обеспечения под Android.

## Обработка данных

### SportiduinoPQ

Настройка чипов и станций производится в программе [SportiduinoPQ](https://github.com/alexandervolikov/SportiduinoPQ)

Программа основана на [модуле на python](https://github.com/alexandervolikov/sportiduinoPython) а также на пакете PyQt для создания оконных приложений

### SportOrg

Чтение чипов реализовано в программе [SportOrg ](https://github.com/sportorg/pysport)

[Сайт с руководством](http://sportorg.o-ural.ru/)

***********
[Проведенные на системе соревнования](https://github.com/alexandervolikov/sportiduino/wiki/%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D1%81%D0%BE%D1%80%D0%B5%D0%B2%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)

***********
Публикация на geektimes [первая](https://geektimes.ru/post/290057/) [вторая](https://geektimes.ru/post/294277/)

***********
Available from:  https://github.com/alexandervolikov/sportiduino

License:         GNU GPLv3